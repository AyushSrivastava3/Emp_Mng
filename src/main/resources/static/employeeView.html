<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Details</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* Custom scrollbar for table container */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-thumb {
            background-color: #4f46e5; /* Custom scrollbar color */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-track {
            background: #f3f4f6;
        }

        html, body {
  height: 100%; /* Ensure full height */
  margin: 0; /* Remove default margins */
}

body {
  display: flex;
  flex-direction: column; /* Make the body a flex container */
}

.container {
  flex-grow: 1; /* Allow the content to expand and fill available space */
}

footer {
            margin-top: auto;
        }
         /* Stylish spinner container */
        .spinner-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #ffffff;
            z-index: 1000;
        }

        /* Modern Stylish Spinner */
        .stylish-spinner {
            width: 64px;
            height: 64px;
            border: 8px solid rgba(0, 0, 0, 0.1);
            border-left-color: #4f46e5; /* Indigo-500 from Tailwind */
            border-radius: 50%;
            animation: spin 1.2s linear infinite, pulse 1.5s ease-in-out infinite;
        }

        /* Spinner Animation */
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        /* Pulsating effect */
        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.4);
            }
            50% {
                box-shadow: 0 0 0 20px rgba(79, 70, 229, 0);
            }
        }
    </style>
</head>
<body class="bg-white leading-relaxed text-gray-800">
<!-- Include Navbar -->
<div id="navbar"></div>
<!-- Spinner Container -->
<div id="spinner-container" class="spinner-container">
    <div class="stylish-spinner"></div>
</div>
<div class="w-full  bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-2xl font-bold text-gray-700 mb-6 text-center">Profile</h2>

    <div id="loading" class="text-center text-gray-500">Loading...</div>
    <div id="error" class="text-red-500 text-center hidden">Employee not found.</div>

    <div id="employee-details" class="grid grid-cols-2 gap-4 hidden text-gray-700">
        <div><strong>Name:</strong> <span id="name"></span></div>
        <div><strong>Mobile:</strong> <span id="mobile"></span></div>
        <div><strong>Alternate Mobile:</strong> <span id="altMobile"></span></div>
        <div><strong>Personal Email:</strong> <span id="personalEmail"></span></div>
        <div><strong>Professional Email:</strong> <span id="email"></span></div>
        <div><strong>Date of Birth:</strong> <span id="dob"></span></div>
        <div><strong>Gender:</strong> <span id="gender"></span></div>
        <div><strong>Home Address:</strong> <span id="homeAddress"></span></div>
        <div><strong>Aadhar Number:</strong> <span id="aadhar"></span></div>
        <div><strong>PAN Number:</strong> <span id="pan"></span></div>

        <div class="col-span-2 border-t-2 pt-2"><strong>Work Information</strong></div>
        <div><strong>Job Title:</strong> <span id="jobTitle"></span></div>
        <div><strong>Department:</strong> <span id="department"></span></div>
        <div><strong>Manager:</strong> <span id="manager"></span></div>
        <div><strong>Employment Type:</strong> <span id="employmentType"></span></div>
        <div><strong>Employee Status:</strong> <span id="employeeStatus"></span></div>
        <div><strong>Work Location:</strong> <span id="workLocation"></span></div>
        <div><strong>Current Location:</strong> <span id="currentLocation"></span></div>
        <div><strong>Employee Grade:</strong> <span id="employeeGrade"></span></div>
        <div><strong>Date of Joining:</strong> <span id="doj"></span></div>
        <div><strong>Date of Resigning:</strong> <span id="dor"></span></div>

        <div class="col-span-2 border-t-2 pt-2"><strong>Payroll & Salary</strong></div>
        <div><strong>Salary (PA):</strong> â‚¹<span id="salary"></span></div>
        <div><strong>Payroll:</strong> <span id="payroll"></span></div>
        <div><strong>Bank Account Details:</strong> <span id="bankAccount"></span></div>
        <div><strong>Pay Date:</strong> <span id="payDate"></span></div>
        <div><strong>Tax Information:</strong> <span id="taxInfo"></span></div>

        <div class="col-span-2 border-t-2 pt-2"><strong>Leaves & Benefits</strong></div>
        <div><strong>Total Leaves:</strong> <span id="totalLeaves"></span></div>
        <div><strong>Leaves Taken This Month:</strong> <span id="leavesThisMonth"></span></div>
        <div><strong>Leaves Balance:</strong> <span id="leavesBalance"></span></div>
        <div><strong>Insurance Plan:</strong> <span id="insurance"></span></div>
        <div><strong>Other Benefits:</strong> <span id="otherBenefits"></span></div>

        <div class="col-span-2 border-t-2 pt-2"><strong>Nominee</strong></div>
        <div><strong>Nominee Name:</strong> <span id="nominee"></span></div>
        <div><strong>Nominee Bank Account:</strong> <span id="nomineeBank"></span></div>

        <div class="col-span-2 border-t-2 pt-2"><strong>Work Hours & Attendance</strong></div>
        <div><strong>Work Hours:</strong> <span id="workHours"></span></div>
        <div><strong>Leave Requests:</strong> <span id="leaveRequests"></span></div>
        <div><strong>Attendance Tracking:</strong> <span id="attendance"></span></div>
        <div><strong>Timesheets:</strong> <span id="timesheets"></span></div>

        <div class="col-span-2 border-t-2 pt-2"><strong>Laptop Details</strong></div>
        <div><strong>Laptop Details:</strong> <span id="laptop"></span></div>
        <div><strong>Laptop Delivery Address:</strong> <span id="laptopAddress"></span></div>
        <div><strong>Laptop Received Date:</strong> <span id="laptopDate"></span></div>
        <div><strong>Laptop Bills:</strong> <span id="laptopBills"></span></div>
    </div>
</div>

</body>
<!-- Include Footer -->
<footer id="footer"></footer>
<script>
    // Show the spinner for a few seconds while loading content
document.addEventListener("DOMContentLoaded", function() {
    // Simulate content loading with a timeout
    setTimeout(function() {
        document.getElementById("spinner-container").style.display = "none";  // Hide spinner after loading
    }, 1100); // Adjust the delay based on your requirements
});

fetch('navbar_employee.html')
    .then(response => response.text())
    .then(data => {
        document.getElementById('navbar').innerHTML = data;
    });

fetch('footer.html')
    .then(response => response.text())
    .then(data => {
        document.getElementById('footer').innerHTML = data;
    });
    document.addEventListener("DOMContentLoaded", async () => {
        const email = localStorage.getItem("email");
        if (!email) {
            document.getElementById("loading").innerText = "No email found in local storage.";
            return;
        }

        try {
            const response = await fetch(`http://localhost:8080/employees/email/${email}`);
            if (!response.ok) throw new Error("Employee not found");

            const employee = await response.json();
            document.getElementById("name").textContent = `${employee.firstName} ${employee.lastName}`;
            document.getElementById("mobile").textContent = employee.mobileNumber;
            document.getElementById("altMobile").textContent = employee.alternateMobileNumber;
            document.getElementById("personalEmail").textContent = employee.personalEmail;
            document.getElementById("email").textContent = employee.professionalEmail;
            document.getElementById("dob").textContent = employee.dateOfBirth;
            document.getElementById("gender").textContent = employee.gender;
            document.getElementById("homeAddress").textContent = employee.homeAddress;
            document.getElementById("aadhar").textContent = employee.aadharNumber;
            document.getElementById("pan").textContent = employee.panNumber;

            document.getElementById("jobTitle").textContent = employee.jobTitle;
            document.getElementById("department").textContent = employee.department;
            document.getElementById("manager").textContent = employee.managerName;
            document.getElementById("employmentType").textContent = employee.employmentType;
            document.getElementById("employeeStatus").textContent = employee.employeeStatus;
            document.getElementById("workLocation").textContent = employee.workLocation;
            document.getElementById("currentLocation").textContent = employee.currentLocation;
            document.getElementById("employeeGrade").textContent = employee.employeeGrade;
            document.getElementById("doj").textContent = employee.dateOfJoining;
            document.getElementById("dor").textContent = employee.dateOfResigning;

            document.getElementById("loading").classList.add("hidden");
            document.getElementById("employee-details").classList.remove("hidden");
        } catch (error) {
            document.getElementById("loading").classList.add("hidden");
            document.getElementById("error").classList.remove("hidden");
        }
    });
</script>
<script src="navbar_employee.js"></script>

</html>
